@using SancionadosSAGB2025.Client.Services
@using SancionadosSAGB2025.Shared.Sanciones;
@inject ISnackbar Snackbar;
@inject HttpClient _http
@using SancionadosSAGB2025.Client.Shared.Partial.Cards
@inject FaltasGravesPersonasFisicasService FaltasGravesPersonasFisicasService
@inject CatalagosServiceClient CatalagosService
@inject AuthService AuthService
@inject IDialogService DialogService
@inject IJSRuntime JS

<MudGrid Justify="Justify.FlexEnd">
    @if (IsEditMode != (int)TipoVistaComponentes.Agregar)
    {
        <MudItem xs="12" class="d-flex justify-end pb-5">
            <MudButton StartIcon="@Icons.Material.Filled.KeyboardBackspace" Class="mt-3 w-25" Variant="Variant.Filled" Color="Color.Primary" OnClick="Regresar">
                Volver a Buscar Servidores
            </MudButton>
        </MudItem>
    }
    else
    {
        @if (FaltasDeServidoresPublicosG.Id is not null)
        {
            <MudItem xs="12" class="d-flex justify-end pb-5">
                <MudButton StartIcon="@Icons.Material.Filled.Edit" Class="mt-3 w-25" Variant="Variant.Filled" Color="Color.Primary" OnClick="CancelarForm">
                    Cancelar registro
                </MudButton>
            </MudItem>
        }
        else
        {
            <MudItem xs="12" class="d-flex justify-end pb-5">
                <MudButton StartIcon="@Icons.Material.Filled.KeyboardBackspace" Class="mt-3 w-25" Variant="Variant.Filled" Color="Color.Primary" Href="FaltasGravesPersonasFísicas">
                    Volver a Buscar Servidores
                </MudButton>
            </MudItem>
        }

    }
</MudGrid>
<br />
<MudStepper Class="pa-0 ma-0" Vertical="true" @bind-ActiveIndex="index" NonLinear="modoVista" OnPreviewInteraction="OnPreviewInteraction">
    <ChildContent>
        <MudStep Title="1. FECHA* (DD-MM-AAAA)*" CompletedStepColor="Color.Success">
            <MudForm @ref="_formFecha" @bind-IsValid="_isStep1Valid[0]">                                 
                                    <MudDatePicker Label="Fecha"
                                           @bind-Date="FaltasDeServidoresPublicosG.Fecha"
                                                   Disabled="modoVista"
                                                   ErrorText="La Fecha es Requerida"
                                                   Required="!modoVista" />                       
                
            </MudForm>

        </MudStep>
        <MudStep Title="2. EXPEDIENTE*" CompletedStepColor="Color.Success">
            <MudForm @ref="_formExpediente" Model="FaltasDeServidoresPublicosG" @bind-IsValid="_isStep1Valid[1]">
                <MudGrid>
                    <MudItem xs="6">
                        <MudTextField @bind-value="FaltasDeServidoresPublicosG!.Expediente"
                                      label="Expediente"
                                      required="!modoVista"
                                      RequiredError="El campo de expediente es obligatorio"
                                      Disabled="modoVista"
                                      ErrorText="El No. de Expediente es requerido"
                                      helpertext="Registrar el número de expediente en el que recae la resolución." />
                    </MudItem>
                </MudGrid>
            </MudForm>
        </MudStep>
        <MudStep Title="3. DATOS GENERALES DE LA PERSONA FÍSICA SANCIONADA*" CompletedStepColor="Color.Success">
            <MudForm @ref="_formDatosGenerales" Model="FaltasDeServidoresPublicosG" @bind-IsValid="_isStep1Valid[2]">
                <MudGrid>
                    <MudItem xs="12">
                        <MudAlert Severity="Severity.Warning" Variant="Variant.Filled">
                            Se deberá escribir el o los nombres, así como los apellidos, sin abreviaturas, sin acentos, ni signos especiales.
                            En caso de tener sólo un apellido, deberá colocarse en el espacio del primer apellido y dejar el espacio del segundo apellido en blanco
                        </MudAlert>
                    </MudItem>
                    <MudItem xs="4">
                        <MudTextField @bind-value="FaltasDeServidoresPublicosG!.DatosGenerales!.Nombres"
                                      label="NOMBRE (S)"
                                      required="!modoVista"
                                      RequiredError="El campo Nombre(s) es obligatorio."
                                      Disabled="IsEditMode == (int)TipoVistaComponentes.Ver" />
                    </MudItem>
                    <MudItem xs="4">
                        <MudTextField @bind-value="FaltasDeServidoresPublicosG!.DatosGenerales!.PrimerApellido"
                                      label="PRIMER APELLIDO"
                                      required="!modoVista"
                                      RequiredError="El campo Primer Apellido es obligatorio."
                                      Disabled="IsEditMode == (int)TipoVistaComponentes.Ver" />
                    </MudItem>
                    <MudItem xs="4">
                        <MudTextField @bind-value="FaltasDeServidoresPublicosG!.DatosGenerales!.SegundoApellido"
                                      label="SEGUNDO APELLIDO"
                                      Disabled="IsEditMode == (int)TipoVistaComponentes.Ver" />
                    </MudItem>
                    <MudItem xs="4">

                        <MudTextField @bind-value="FaltasDeServidoresPublicosG!.DatosGenerales!.Curp"
                                      label="CURP"
                                      Disabled="IsEditMode == (int)TipoVistaComponentes.Ver"
                                      required="!modoVista"
                                      RequiredError="El campo Curp es obligatorio."
                                      MaxLength="18"
                                      helpertext="Escribir los dieciocho caracteres alfanuméricos como aparece en el documento que emite la Secretaría de Gobernación."
                                      UserAttributes="@(new Dictionary<string, object> { ["id"] = "curpInput" })" />
                        @if (FaltasDeServidoresPublicosG!.DatosGenerales!.Curp is not null && FaltasDeServidoresPublicosG!.DatosGenerales!.Curp.Length != 18)
                        {
                            <MudText Typo="Typo.caption" Color="Color.Error">El campo de Curp no es valido.</MudText>
                        }
                    </MudItem>
                    <MudItem xs="4">
                        <MudTextField @bind-value="FaltasDeServidoresPublicosG!.DatosGenerales!.Rfc"
                                      label="RFC CON HOMOCLAVE"
                                      required="!modoVista"
                                      MaxLength="13"
                                      Disabled="IsEditMode == (int)TipoVistaComponentes.Ver"
                                      RequiredError="El campo RFC es obligatorio."
                                      helpertext="Escribir los primeros diez caracteres básicos y los tres correspondientes a la homoclave."
                                      UserAttributes="@(new Dictionary<string, object> { ["id"] = "rfcInput" })" />
                        @if (FaltasDeServidoresPublicosG!.DatosGenerales!.Rfc is not null && FaltasDeServidoresPublicosG!.DatosGenerales!.Rfc.Length != 13)
                        {
                            <MudText Typo="Typo.caption" Color="Color.Error">El campo de Rfc no es valido.</MudText>
                        }
                    </MudItem>
                    <MudItem xs="4">
                        <MudSelect @bind-Value="TipoDomicilioSeleccionado"
                                   Label="Tipo Domicilio"
                                   Disabled="IsEditMode == (int)TipoVistaComponentes.Ver"
                                   HelperText="Selecciona la opción que corresponda: MEXICO, EXTRANJERO">
                            @foreach (var tipo in TipoDomicilios)
                            {
                                <MudSelectItem Value="@tipo">@tipo</MudSelectItem>
                            }
                        </MudSelect>
                    </MudItem>
                    @if (TipoDomicilioSeleccionado == TipoDomiclio.MEXICO)
                    {
                        <MudItem xs="12"><MudText Align="Align.Center" Typo="Typo.h6">DOMICILIO EN LA REPÚBLICA MEXICANA</MudText></MudItem>
                        <MudItem xs="4">
                            <MudSelect T="int?"
                                       @bind-Value="FaltasDeServidoresPublicosG.DatosGenerales.DomicilioMexico.IdTipoVialidadFK"
                                       Label="TIPO DE VIALIDAD Ejemplo: CALLE"
                                       Disabled="IsEditMode == (int)TipoVistaComponentes.Ver"
                                       HelperText="Colocar el tipo de la vialidad correspondiente con base al catálogo de vialidades del marco Geoestadístico Nacional. ">
                                @foreach (var vialidad in TiposVialidades)
                                {
                                    <MudSelectItem Value="@vialidad.IdTipoVialidad">
                                        @vialidad.Descripcion
                                    </MudSelectItem>
                                }
                            </MudSelect>

                        </MudItem>
                        <MudItem xs="4">
                            <MudTextField @bind-value="FaltasDeServidoresPublicosG!.DatosGenerales!.DomicilioMexico.NombreVialidad"
                                          HelperText="Escribir el nombre completo de la calle, boulevard, avenida, etc."
                                          label="NOMBRE DE LA VIALIDAD"
                                          Disabled="IsEditMode == (int)TipoVistaComponentes.Ver" />
                        </MudItem>
                        <MudItem xs="4">
                            <MudTextField @bind-value="FaltasDeServidoresPublicosG!.DatosGenerales!.DomicilioMexico.NumeroExterior"
                                          HelperText="Escribir el número exterior."
                                          Error="@(!EsValido(FaltasDeServidoresPublicosG!.DatosGenerales!.DomicilioMexico.NumeroExterior))"
                                          label="NÚMERO EXTERIOR"
                                          ErrorText="Solo letras, números y espacios"
                                          Disabled="IsEditMode == (int)TipoVistaComponentes.Ver" />
                        </MudItem>
                        <MudItem xs="4">
                            <MudTextField @bind-value="FaltasDeServidoresPublicosG!.DatosGenerales!.DomicilioMexico.NumeroInterior"
                                          HelperText="Escribir el número interior."
                                          Error="@(!EsValido(FaltasDeServidoresPublicosG!.DatosGenerales!.DomicilioMexico.NumeroInterior))"
                                          ErrorText="Solo letras, números y espacios"
                                          label="NÚMERO INTERIOR"
                                          Disabled="IsEditMode == (int)TipoVistaComponentes.Ver" />
                        </MudItem>
                        <MudItem xs="4">
                            <MudTextField @bind-value="FaltasDeServidoresPublicosG!.DatosGenerales!.DomicilioMexico.ColoniaLocalidad"
                                          HelperText="Escribir el nombre completo de la colonia."
                                          Error="@(!EsValido(FaltasDeServidoresPublicosG!.DatosGenerales!.DomicilioMexico.ColoniaLocalidad))"
                                          ErrorText="Solo letras, números y espacios"
                                          label="COLONIA/LOCALIDAD"
                                          Disabled="IsEditMode == (int)TipoVistaComponentes.Ver" />
                        </MudItem>
                        <MudItem xs="4">
                            <MudTextField @bind-value="FaltasDeServidoresPublicosG!.DatosGenerales!.DomicilioMexico.MunicipioAlcaldia"
                                          HelperText="Nombre del municipio/alcaldia."
                                          ErrorText="Solo letras, números y espacios"
                                          Error="@(!EsValido(FaltasDeServidoresPublicosG!.DatosGenerales!.DomicilioMexico.MunicipioAlcaldia))"
                                          label="MUNICIPIO/ALCALDÍA"
                                          Disabled="IsEditMode == (int)TipoVistaComponentes.Ver" />
                        </MudItem>
                        <MudItem xs="4">
                            <MudTextField @bind-value="FaltasDeServidoresPublicosG!.DatosGenerales!.DomicilioMexico.CodigoPostal"
                                          HelperText="Escribir el número código postal."
                                          ErrorText="Solo letras, números y espacios"
                                          label="CÓDIGO POSTAL"
                                          Disabled="IsEditMode == (int)TipoVistaComponentes.Ver" />
                        </MudItem>
                        <MudItem xs="4">
                            <MudSelect T="int?"
                                       @bind-Value="FaltasDeServidoresPublicosG.DatosGenerales.DomicilioMexico.IdEntidadFederativaFK"
                                       Label="ENTIDAD FEDERATIVA"
                                       Disabled="IsEditMode == (int)TipoVistaComponentes.Ver"
                                       HelperText="Seleccionar la entidad federativa donde se ubica el Ente público donde labora o laboraba la persona servidora pública sancionada, al momento de cometer la falta administrativa.">
                                @foreach (var entidad in EntidadesFederativas)
                                {
                                    <MudSelectItem Value="@entidad.IdEntidadFederativa">
                                        @entidad.Descripcion
                                    </MudSelectItem>
                                }
                            </MudSelect>


                        </MudItem>

                    }
                    @if (TipoDomicilioSeleccionado == TipoDomiclio.EXTRANJERO)
                    {
                        <MudItem xs="12">
                            <MudText Align="Align.Center" Typo="Typo.h6">
                                DOMICILIO EN EL EXTRANJERO
                            </MudText>
                        </MudItem>
                        <MudItem xs="4">
                            <MudTextField @bind-value="FaltasDeServidoresPublicosG!.DatosGenerales!.DomicilioExtranjero.Ciudad"
                                          HelperText="Escribir el nombre completo de la calle, boulevard, avenida, etc."
                                          label="CIUDAD/LOCALIDAD"
                                          Disabled="IsEditMode == (int)TipoVistaComponentes.Ver" />
                        </MudItem>
                        <MudItem xs="4">
                            <MudTextField @bind-value="FaltasDeServidoresPublicosG!.DatosGenerales!.DomicilioExtranjero.Provincia"
                                          HelperText="Escribir el nombre completo de la colonia."
                                          label="ESTADO/PROVINCIA"
                                          Disabled="IsEditMode == (int)TipoVistaComponentes.Ver" />
                        </MudItem>
                        <MudItem xs="4">
                            <MudTextField @bind-value="FaltasDeServidoresPublicosG!.DatosGenerales!.DomicilioExtranjero.Calle"
                                          HelperText="Nombre del municipio/alcaldia."
                                          label="CALLE"
                                          Disabled="IsEditMode == (int)TipoVistaComponentes.Ver" />
                        </MudItem>
                        <MudItem xs="4">
                            <MudTextField @bind-value="FaltasDeServidoresPublicosG!.DatosGenerales!.DomicilioExtranjero.NumeroExterior"
                                          HelperText="Escribir el número exterior."
                                          label="NÚMERO EXTERIOR"
                                          Disabled="IsEditMode == (int)TipoVistaComponentes.Ver" />
                        </MudItem>
                        <MudItem xs="4">
                            <MudTextField @bind-value="FaltasDeServidoresPublicosG!.DatosGenerales!.DomicilioExtranjero.NumeroInterior"
                                          HelperText="Escribir el número interior."
                                          label="NÚMERO INTERIOR"
                                          Disabled="IsEditMode == (int)TipoVistaComponentes.Ver" />
                        </MudItem>
                        <MudItem xs="4">
                            <MudTextField @bind-value="FaltasDeServidoresPublicosG!.DatosGenerales!.DomicilioExtranjero.CodigoPostal"
                                          HelperText="Escribir el número código postal."
                                          label="CÓDIGO POSTAL"
                                          Disabled="IsEditMode == (int)TipoVistaComponentes.Ver" />
                        </MudItem>
                        <MudItem xs="4">
                            <MudSelect @bind-Value="FaltasDeServidoresPublicosG.DatosGenerales.DomicilioExtranjero.Pais"
                                       Label="PAÍS"
                                       Disabled="IsEditMode == (int)TipoVistaComponentes.Ver"
                                       HelperText="Seleccionar el pais en donde se realizó la falta.">
                                @foreach (var pais in Paises)
                                {
                                    <MudSelectItem Value="@pais.codigoISO">@pais.nombrePais</MudSelectItem>
                                }
                            </MudSelect>
                        </MudItem>
                    }
                </MudGrid>
            </MudForm>
        </MudStep>
        <MudStep Title="4. DATOS DEL ENTE PÚBLICO DONDE SE COMETIÓ LA FALTA ADMINISTRATIVA*" CompletedStepColor="Color.Success">
            <MudForm @ref="_formDatosEntePublico" @bind-IsValid="_isStep1Valid[3]" Model="FaltasDeServidoresPublicosG">
                <MudGrid>
                    <MudItem xs="4">
                        <MudSelect @bind-Value="FaltasDeServidoresPublicosG!.EmpleoCargoComision!.IdEntidadFederativaFK"
                                   Label="ENTIDAD FEDERATIVA"
                                   Disabled="modoVista"
                                   Required="!modoVista"
                                   RequiredError="El campo de Entidad Federativa es obligatorio."
                                   HelperText="Seleccionar la entidad federativa donde se ubica el Ente público donde labora o laboraba la persona servidora pública sancionada, al momento de cometer la falta administrativa. ">
                            @foreach (var entidad in EntidadesFederativas)
                            {
                                <MudSelectItem Value="@entidad.IdEntidadFederativa">@entidad.Descripcion</MudSelectItem>
                            }
                        </MudSelect>
                    </MudItem>
                    <MudItem xs="4">
                        <MudSelect @bind-Value="FaltasDeServidoresPublicosG!.EmpleoCargoComision!.IdNivelOrdenGobiernoFK"
                                   Label="NIVEL/ORDEN DE GOBIERNO"
                                   Disabled="modoVista"
                                   Required="!modoVista"
                                   RequiredError="El campo de Nivel Orden Gobierno es obligatorio."
                                   HelperText="Seleccionar el nivel u orden de gobierno">
                            @if (NivelOrdenGobierno is not null)
                            {
                                @foreach (var nivel in NivelOrdenGobierno)
                                {
                                    <MudSelectItem Value="@nivel.IdNivelOrdenGobierno">@nivel.Descripcion</MudSelectItem>
                                }
                            }
                        </MudSelect>
                    </MudItem>
                    <MudItem xs="4">
                        <MudSelect @bind-Value="FaltasDeServidoresPublicosG!.EmpleoCargoComision!.IdAmbitoPublicoFK"
                                   Label="ÁMBITO PÚBLICO"
                                   Disabled="modoVista"
                                   Required="!modoVista"
                                   RequiredError="El campo de Ambito Publico es obligatorio."
                                   HelperText="Seleccionar el ámbito público">
                            @foreach (var ambito in AmbitoPublico)
                            {
                                <MudSelectItem Value="@ambito.IdAmbitoPublico">@ambito.Descripcion</MudSelectItem>
                            }
                        </MudSelect>
                    </MudItem>
                    <MudItem xs="4">
                        <MudTextField @bind-value="FaltasDeServidoresPublicosG!.EmpleoCargoComision!.NombreEnte"
                                      label="NOMBRE DEL ENTE PÚBLICO"
                                      Disabled="IsEditMode == (int)TipoVistaComponentes.Ver"
                                      helpertext="Indicar el nombre completo del Ente público, sin abreviaturas, sin acentos, ni signos especiales."
                                      UserAttributes="@(new Dictionary<string, object> { ["id"] = "nombreEnteInput" })" />
                    </MudItem>
                    <MudItem xs="4">
                        <MudTextField @bind-value="FaltasDeServidoresPublicosG!.EmpleoCargoComision!.SiglasEntePublico"
                                      label="SIGLAS DEL ENTE PÚBLICO"
                                      Disabled="IsEditMode == (int)TipoVistaComponentes.Ver"
                                      helpertext="Indicar las siglas del Ente público."
                                      UserAttributes="@(new Dictionary<string, object> { ["id"] = "siglasEntePublicoInput" })" />
                    </MudItem>
                </MudGrid>
            </MudForm>
        </MudStep>
        <MudStep Title="5. ORIGEN DEL PROCEDIMIENTO*" CompletedStepColor="Color.Success">
            <MudForm @ref="_formOrigenProcedimiento" @bind-IsValid="_isStep1Valid[4]" Model="FaltasDeServidoresPublicosG">
                <MudGrid>
                    <MudItem xs="4">
                        <MudSelect @bind-Value="FaltasDeServidoresPublicosG!.OrigenProcedimiento!.IdOrigenProcedimientoCatFK"
                                   Label="Origen Procedimiento"
                                   Disabled="IsEditMode == (int)TipoVistaComponentes.Ver"
                                   HelperText="Se deberá señalar el motivo que dio origen a la investigación por la comisión de la falta administrativa grave.">
                            @foreach (var origen in ListaOrigenesInvestigacion)
                            {
                                <MudSelectItem Value="@origen.IdOrigenProcedimiento">@origen.Descripcion</MudSelectItem>
                            }
                        </MudSelect>                        
                    </MudItem>
                    @if (FaltasDeServidoresPublicosG!.OrigenProcedimiento?.IdOrigenProcedimientoCatFK == 5)
                    {
                        <MudItem xs="4">
                            <MudTextField @bind-value="FaltasDeServidoresPublicosG!.OrigenProcedimiento!.Valor"
                                          Disabled="IsEditMode == (int)TipoVistaComponentes.Ver"
                                          label="Valor"
                                          Required="!modoVista"
                                          ErrorText="Es requerido este campo"
                                          helpertext="En caso de seleccionar la opción OTRO, se deberá especificar el motivo que dio origen a la investigación por la comisión de la falta administrativa grave."
                                          UserAttributes="@(new Dictionary<string, object> { ["id"] = "ValorOrigenInput" })" />
                        </MudItem>
                    }
                </MudGrid>
            </MudForm>
        </MudStep>
        <MudStep Title="6. TIPO DE FALTA COMETIDA POR LA PERSONA FÍSICA SANCIONADA*" CompletedStepColor="Color.Success">
            <MudForm @ref="_formTipoFaltaCometida" @bind-IsValid="_isStep1Valid[5]" Model="FaltasDeServidoresPublicosG">
                <MudGrid>
                    <MudItem xs="6">
                        <MudSelect @bind-Value="FaltasDeServidoresPublicosG!.FaltaCometida!.MultipleFalta"
                                   T="string" MultiSelection="true" @bind-SelectedValues="_optionsFaltaComedia"
                                   Disabled="IsEditMode == (int)TipoVistaComponentes.Ver"
                                   Label="Tipo de Falta Cometida"
                                   HelperText="Seleccionar del catálogo la (s) falta (s) cometida (s) por la persona servidora pública. Se podrán elegir de las siguientes opciones:">
                            @foreach (var falta in FaltasCometidas)
                            {
                                <MudSelectItem Value="@falta.Descripcion">@falta.Descripcion</MudSelectItem>
                            }
                        </MudSelect>
                        @if (!(_optionsFaltaComedia ?? Enumerable.Empty<string>()).Any())
                        {
                            <MudText Typo="Typo.caption" Color="Color.Error">El campo de Tipo de Falta Cometida es obligatorio.</MudText>
                        }
                    </MudItem>

                    @if ((_optionsFaltaComedia ?? Enumerable.Empty<string>()).Contains("OTRO (Especifique)"))
                    {
                        <MudItem xs="6">
                            <MudTextField @bind-value="FaltasDeServidoresPublicosG!.FaltaCometida!.Valor"
                                          Disabled="IsEditMode == (int)TipoVistaComponentes.Ver"
                                          Required="!modoVista"
                                          label="Valor"
                                          helpertext="En caso de seleccionar la opción OTRO, se deberá especificar el el tipo de falta cometida por parte de la persona servidora pública sancionada."
                                          UserAttributes="@(new Dictionary<string, object> { ["id"] = "ValorFaltaCometidaInput" })" />
                        </MudItem>
                    }
                    <MudItem xs="6">
                        <MudTextField @bind-value="FaltasDeServidoresPublicosG!.FaltaCometida!.NombreNormatividad"
                                      label="NORMATIVIDAD INFRINGIDA"
                                      Disabled="IsEditMode == (int)TipoVistaComponentes.Ver"
                                      required="!modoVista"
                                      RequiredError="El campo de Normatividad Infringida es obligatorio."
                                      UserAttributes="@(new Dictionary<string, object> { ["id"] = "nombreNormatividadInput" })"
                                      helpertext="Escribir el nombre de la Normatividad Infringida por la persona servidora pública, sin abreviaturas, sin acentos, ni signos especiales;" />
                    </MudItem>
                    <MudItem xs="6">
                        <MudTextField @bind-value="FaltasDeServidoresPublicosG!.FaltaCometida!.Articulo"
                                      label="ARTÍCULO(S) DE LA NORMATIVIDAD INFRINGIDA"
                                      Disabled="IsEditMode == (int)TipoVistaComponentes.Ver"
                                      required="!modoVista"
                                      RequiredError="El campo de Artículo(s) De La Normatividad Infringida es obligatorio."
                                      UserAttributes="@(new Dictionary<string, object> { ["id"] = "articuloInput" })"
                                      helpertext="Escribir el (los) artículo (s) infringido (s)." />
                    </MudItem>
                    <MudItem xs="6">
                        <MudTextField @bind-value="FaltasDeServidoresPublicosG!.FaltaCometida!.FraccionNormatividad"
                                      label="FRACCIÓN(ES) DE LA NORMATIVIDAD INFRINGIDA"
                                      Disabled="IsEditMode == (int)TipoVistaComponentes.Ver"
                                      helpertext="En su caso, escribir la (s) fracción (es) infringida (s)." />
                    </MudItem>
                    <MudItem xs="6">
                        <MudTextField @bind-value="FaltasDeServidoresPublicosG!.FaltaCometida!.DescripcionHechos"
                                      label="DESCRIPCIÓN BREVE DE LOS HECHOS"
                                      Disabled="IsEditMode == (int)TipoVistaComponentes.Ver"
                                      UserAttributes="@(new Dictionary<string, object> { ["id"] = "descripcionHechosInput" })"
                                      required="!modoVista"
                                      RequiredError="El campo de Descripcion Hechos es obligatorio."
                                      Lines="4"
                                      AutoGrow
                                      helpertext="Redactar una descripción breve de los hechos, sin incluir información reservada o confidencial, de conformidad con la normatividad en materia de transparencia y protección de datos personales." />
                    </MudItem>
                </MudGrid>
            </MudForm>
        </MudStep>
        <MudStep Title="7. RESOLUCIÓN SANCIONATORIA DE LA FALTA COMETIDA POR LA PERSONA FÍSICA*" CompletedStepColor="Color.Success">
            <MudForm @ref="_formResolucionSancionatoria" @bind-IsValid="_isStep1Valid[6]" Model="FaltasDeServidoresPublicosG">
                <MudGrid>
                    <MudItem xs="4">
                        <MudTextField @bind-value="FaltasDeServidoresPublicosG!.Resolucion!.TituloDocumento"
                                      label="TÍTULO DEL DOCUMENTO"
                                      required="!modoVista"
                                      Disabled="IsEditMode == (int)TipoVistaComponentes.Ver"
                                      RequiredError="El campo Título Del Documento es obligatorio."
                                      helpertext="Escribir el Título Del Documento que resuelve el procedimiento de responsabilidad administrativa y que ha quedado firme."
                                      UserAttributes="@(new Dictionary<string, object> { ["id"] = "tituloDocumentoInput" })" />
                    </MudItem>
                    <MudItem xs="4">
                        <MudDatePicker Label="FECHA DE LA RESOLUCIÓN (DD-MM-AAAA)" @bind-Date="FaltasDeServidoresPublicosG.Resolucion!.FechaResolucion" required="!modoVista"
                                       Disabled="IsEditMode == (int)TipoVistaComponentes.Ver"
                                       RequiredError="El campo Fecha De La Resolución es obligatorio." helpertext="Colocar la fecha en la que se emite la resolución definitiva." />

                    </MudItem>
                    <MudItem xs="4">
                        <MudDatePicker Label="FECHA DE NOTIFICACIÓN (DD-MM-AAAA)" @bind-Date="FaltasDeServidoresPublicosG.Resolucion!.FechaNotificacion" required="!modoVista"
                                       Disabled="IsEditMode == (int)TipoVistaComponentes.Ver"
                                       RequiredError="El campo Fecha De Notificación es obligatorio." helpertext="Indicar la fecha en que se notifica la resolución definitiva a la persona servidora pública sancionada." />

                    </MudItem>
                    <MudItem xs="4">
                        <MudTextField @bind-value="FaltasDeServidoresPublicosG!.Resolucion!.UrlResolucion"
                                      label="URL DE LA VERSIÓN PÚBLICA DE LA RESOLUCIÓN DESANCIÓN EN FORMATO DIGITAL"
                                      required="!modoVista"
                                      Disabled="IsEditMode == (int)TipoVistaComponentes.Ver"
                                      RequiredError="El campo URL De La Versión Pública De La Resolución De Sanción En Formato Digital es obligatorio."
                                      helpertext="Colocar el enlace de la versión pública de la resolución emitida por la autoridad a la que corresponde la sanción."
                                      UserAttributes="@(new Dictionary<string, object> { ["id"] = "urlResolucionInput" })" />
                    </MudItem>
                    <MudItem xs="4">
                        <MudDatePicker Label="FECHA EN QUE ADQUIRIÓ FIRMEZA LA RESOLUCIÓN (DD-MM-AAAA)" @bind-Date="FaltasDeServidoresPublicosG.Resolucion!.FechaResolucionFirme"
                                       Disabled="IsEditMode == (int)TipoVistaComponentes.Ver" required="!modoVista" RequiredError="El campo Fecha En Que Adquirió Firmeza La Resolución es obligatorio."
                                       helpertext="Colocar la fecha en que adquirió firmeza la resolución de la persona servidora pública." />
                    </MudItem>
                    <MudItem xs="4">
                        <MudDatePicker Label="FECHA DE NOTIFICACIÓN DE LA RESOLUCIÓN FIRME (DD-MM-AAAA)" @bind-Date="FaltasDeServidoresPublicosG.Resolucion!.FechaNotificacionFirme" required="!modoVista" Disabled="IsEditMode == (int)TipoVistaComponentes.Ver" RequiredError="El campo Fecha Notificacion Firme es obligatorio."
                                       helpertext="Indicar la fecha en que se notifica a la persona servidora pública que la resolución ha quedado firme." />
                    </MudItem>
                    <MudItem xs="4">
                        <MudTextField @bind-value="FaltasDeServidoresPublicosG!.Resolucion!.UrlResolucionFirme"
                                      Disabled="IsEditMode == (int)TipoVistaComponentes.Ver"
                                      label="URL DE LA VERSIÓN PÚBLICA DEL ACUERDO O DETERMINACIÓN QUE DECLARE FIRME LA RESOLUCIÓN EN FORMATO DIGITAL"
                                      required="!modoVista"
                                      RequiredError="El campo URL De La Versión Pública Del Acuerdo O Determinación Que Declare Firme La Resolución En Formato Digital es obligatorio."
                                      UserAttributes="@(new Dictionary<string, object> { ["id"] = "urlResolucionFirmeInput" })"
                                      helpertext="Colocar el enlace de la versión pública del acuerdo o determinación que dicte la autoridad competente en la que declara que la resolución definitiva ha quedado firme." />
                    </MudItem>
                    <MudItem xs="4">
                        <MudDatePicker Label="FECHA DE EJECUCIÓN DE LA SANCIÓN (DD-MM-AAAA)" @bind-Date="FaltasDeServidoresPublicosG.Resolucion!.FechaEjecucion" Disabled="IsEditMode == (int)TipoVistaComponentes.Ver" helpertext="Anotar la fecha en la que se ejecutó la sanción a la persona servidora pública.
                                            Si al momento de registrar la información la autoridad no cuenta con el dato señalado en el presente numeral, esta podrá registrarse posteriormente mediante una actualización de su registro." />
                    </MudItem>
                    <MudItem xs="4">
                        <MudSelect @bind-Value="FaltasDeServidoresPublicosG!.Resolucion!.IdOrdenJurisdiccionalFK"
                                   Label="ORDEN JURISDICCIONAL"
                                   Disabled="IsEditMode == (int)TipoVistaComponentes.Ver"
                                   required="!modoVista"
                                   RequiredError="El campo Orden Jurisdiccional es obligatorio."
                                   HelperText="Seleccionar la opción correspondiente al orden jurisdiccional del ente público que emitió la resolución:">
                            @if (OrdenJurisdiccional is not null)
                            {
                                @foreach (var orden in OrdenJurisdiccional)
                                {
                                    <MudSelectItem Value="@orden.Id">@orden.Descripcion</MudSelectItem>
                                }
                            }

                        </MudSelect>
                    </MudItem>
                    <MudItem xs="4">
                        <MudTextField @bind-value="FaltasDeServidoresPublicosG!.Resolucion!.AutoridadResolutora"
                                      Disabled="IsEditMode == (int)TipoVistaComponentes.Ver"
                                      label="AUTORIDAD RESOLUTORA"
                                      required="!modoVista"
                                      RequiredError="El campo Autoridad Resolutora es obligatorio."
                                      UserAttributes="@(new Dictionary<string, object> { ["id"] = "autoridadResolutoraInput" })"
                                      helpertext="Indicar el nombre de la autoridad facultada para dictar la sanción" />
                    </MudItem>
                    <MudItem xs="4">
                        <MudTextField @bind-value="FaltasDeServidoresPublicosG!.Resolucion!.AutoridadInvestigadora"
                                      label="AUTORIDAD INVESTIGADORA"
                                      Disabled="IsEditMode == (int)TipoVistaComponentes.Ver"
                                      required="!modoVista"
                                      RequiredError="El campo Autoridad Investigadora es obligatorio."
                                      UserAttributes="@(new Dictionary<string, object> { ["id"] = "autoridadInvestigadoraInput" })"
                                      helpertext="Especificar el nombre de la autoridad encargada de la investigación de la falta administrativa grave." />
                    </MudItem>
                    <MudItem xs="4">
                        <MudTextField @bind-value="FaltasDeServidoresPublicosG!.Resolucion!.AutoridadSubstanciadora"
                                      label="AUTORIDAD SUBSTANCIADORA"
                                      Disabled="IsEditMode == (int)TipoVistaComponentes.Ver"
                                      required="!modoVista"
                                      RequiredError="El campo Autoridad Substanciadora es obligatorio."
                                      UserAttributes="@(new Dictionary<string, object> { ["id"] = "autoridadSubstanciadoraInput" })"
                                      helpertext="Señalar el nombre de la autoridad substanciadora del procedimiento." />
                    </MudItem>
                </MudGrid>
            </MudForm>
        </MudStep>
        <MudStep Title="8. TIPO DE SANCIÓN IMPUESTA A LA PERSONA FÍSICA*" CompletedStepColor="Color.Success">
            <MudForm @ref="_formTipoSancionImpuesta" Model="FaltasDeServidoresPublicosG" @bind-IsValid="_isStep1Valid[7]">
                <MudPaper Class="pa-4">
                    <MudGrid>
                        <MudItem xs="6">
                            <MudSelect @bind-Value="FaltasDeServidoresPublicosG!.MultipleSancion"
                                       @bind-SelectedValues="_options"
                                       Disabled="modoVista"
                                       T="string"
                                       Label="Tipo De Sanción Fisica"
                                       Required="!modoVista"
                                       RequiredError="El campo Clave es obligatorio."
                                       HelperText="Elegir una o varias sanciones, según corresponda..."
                                       MultiSelection="true">
                                @foreach (var clave in TipoSancionClaves)
                                {
                                    <MudSelectItem Value="@clave.Descripcion">@clave.Descripcion</MudSelectItem>
                                }
                            </MudSelect>
                        </MudItem>
                    </MudGrid>
                </MudPaper>
            </MudForm>
                @if ((_options ?? Enumerable.Empty<string>()).Contains("INHABILITACIÓN TEMPORAL PARA PARTICIPAR EN ADQUISICIONES,ARRENDAMIENTOS,SERVICIOS U OBRAS PÚBLICAS"))
                {
                    <CardForm>
                        <Header>
                            A. INHABILITACIÓN TEMPORAL PARA PARTICIPAR EN ADQUISICIONES, ARRENDAMIENTOS, SERVICIOS U OBRAS PÚBLICAS*
                        </Header>
                        <Content>
                            <MudForm @ref="_formInhabilitacionTemporal" @bind-IsValid="_isStep1Valid[8]">
                                <MudGrid Justify="Justify.FlexStart">
                                    <MudItem xs="4">
                                        <MudTextField @bind-value="FaltasDeServidoresPublicosG!.Inhabilitacion!.Anio"
                                                      Disabled="IsEditMode == (int)TipoVistaComponentes.Ver"
                                                      label="AÑO (S)"
                                                      required="!modoVista"
                                                      RequiredError="El campo Año es obligatario." />
                                    </MudItem>
                                    <MudItem xs="4">
                                        <MudTextField @bind-value="FaltasDeServidoresPublicosG!.Inhabilitacion!.Mes"
                                                      Disabled="IsEditMode == (int)TipoVistaComponentes.Ver"
                                                      label="MES (ES)"
                                                      required="!modoVista"
                                                      RequiredError="El campo Mes es obligatario." />
                                    </MudItem>
                                    <MudItem xs="4">
                                        <MudTextField @bind-value="FaltasDeServidoresPublicosG!.Inhabilitacion!.Dia"
                                                      Disabled="IsEditMode == (int)TipoVistaComponentes.Ver"
                                                      label="DÍA (S)"
                                                      required="!modoVista"
                                                      RequiredError="El campo Dia es obligatario." />
                                    </MudItem>
                                    <MudItem xs="4">
                                        <MudDatePicker Label="FECHA INICIAL (DD-MM-AAAA)" @bind-Date="FaltasDeServidoresPublicosG.Inhabilitacion!.FechaInicial" required="!modoVista" helpertext="Indicar la fecha en la que inició la inhabilitación." Disabled="IsEditMode == (int)TipoVistaComponentes.Ver" />
                                    </MudItem>
                                    <MudItem xs="4">
                                        <MudDatePicker Label="FECHA FINAL (DD-MM-AAAA)" @bind-Date="FaltasDeServidoresPublicosG.Inhabilitacion!.FechaFinal" required="!modoVista" helpertext="Indicar la fecha en la que se concluyó la inhabilitación." Disabled="IsEditMode == (int)TipoVistaComponentes.Ver" />
                                    </MudItem>
                                </MudGrid>
                            </MudForm>
                         
                        </Content>
                    </CardForm>
                    
                }
                @if ((_options ?? Enumerable.Empty<string>()).Contains("INDEMNIZACION"))
                {
                    <CardForm>
                        <Header>
                            B. INDEMNIZACIÓN*
                        </Header>
                        <Content>
                            <MudForm @ref="_formIndemnizacion" @bind-IsValid="_isStep1Valid[9]">
                                <MudGrid>
                                    <MudItem xs="4">
                                        <MudNumericField @bind-value="FaltasDeServidoresPublicosG!.Indeminizacion!.Monto"
                                                      Disabled="IsEditMode == (int)TipoVistaComponentes.Ver"
                                                      label="MONTO"
                                                     HideSpinButtons="false"
                                                      required="!modoVista"
                                                      RequiredError="El campo Monto es obligatorio."
                                                      helpertext="Colocar el monto total de la sanción económica." />
                                    </MudItem>
                                    <MudItem xs="4">
                                        <MudSelect @bind-Value="FaltasDeServidoresPublicosG!.Indeminizacion!.IdTipoMonedaFK"
                                                   Label="MONEDA (Ejemplo: MXN de acuerdo con el ISO 4217)"
                                                   T="int?"
                                                   Disabled="IsEditMode == (int)TipoVistaComponentes.Ver"
                                                   required="!modoVista"
                                                   RequiredError="El campo Moneda es obligatorio."
                                                   HelperText="Elegir el tipo de moneda:">
                                            @foreach (var moneda in TipoMonedas)
                                            {
                                                <MudSelectItem Value="@moneda.IdMoneda">@moneda.Descripcion</MudSelectItem>
                                            }
                                        </MudSelect>
                                    </MudItem>
                                    <MudItem xs="12">
                                        <MudText>
                                            <b>PLAZO DE PAGO</b>
                                        </MudText>
                                    </MudItem>
                                    <MudItem xs="4">
                                        <MudTextField @bind-value="FaltasDeServidoresPublicosG!.PlazoPago.Anios"
                                                      Disabled="IsEditMode == (int)TipoVistaComponentes.Ver"
                                                      label="AÑO (S)" />
                                    </MudItem>
                                <MudItem xs="4">
                                    <MudTextField @bind-value="FaltasDeServidoresPublicosG!.PlazoPago.Meses"
                                                  Disabled="IsEditMode == (int)TipoVistaComponentes.Ver"
                                                  label="MES (ES) " />
                                </MudItem>
                                <MudItem xs="4">
                                    <MudTextField @bind-value="FaltasDeServidoresPublicosG!.PlazoPago.Dias"
                                                  Disabled="IsEditMode == (int)TipoVistaComponentes.Ver"
                                                  label="DÍA (S)" />
                                </MudItem>
                                <MudItem xs="12">
                                    <MudText Color="Color.Primary">
                                        <b>
                                            INDEMNIZACIÓN EFECTIVAMENTE COBRADA
                                        </b>
                                    </MudText>
                                </MudItem>
                                <MudItem xs="4">
                                    <MudNumericField @bind-value="FaltasDeServidoresPublicosG!.Indeminizacion.IndeminizacionECobrada!.Monto"
                                                     Disabled="IsEditMode == (int)TipoVistaComponentes.Ver"
                                                     label="MONTO"
                                                     HideSpinButtons="false"                                                    
                                                     RequiredError="El campo Monto es obligatorio."
                                                     helpertext="Colocar el monto total de la sanción económica." />
                                </MudItem>
                                <MudItem xs="4">
                                    <MudSelect @bind-Value="FaltasDeServidoresPublicosG!.Indeminizacion.IndeminizacionECobrada!.IdMonedaFK"
                                               Label="MONEDA (Ejemplo: MXN de acuerdo con el ISO 4217)"
                                               T="int?"
                                               Disabled="IsEditMode == (int)TipoVistaComponentes.Ver"                                              
                                               RequiredError="El campo Moneda es obligatorio."
                                               HelperText="Elegir el tipo de moneda:">
                                        @foreach (var moneda in TipoMonedas)
                                        {
                                            <MudSelectItem Value="@moneda.IdMoneda">@moneda.Descripcion</MudSelectItem>
                                        }
                                    </MudSelect>
                                </MudItem>
                                <MudItem xs="6">
                                    <MudDatePicker Label="FECHA EN LA QUE SE REALIZÓ EL PAGO TOTAL DE LA INDEMNIZACIÓN (DD-MM-AAAA)" @bind-Date="FaltasDeServidoresPublicosG.Indeminizacion.IndeminizacionECobrada!.FechaCobroSancion" Disabled="modoVista" helpertext="Especificar la fecha en que se realizó el cobro de la sanción económica." />
                                </MudItem>
                                <MudItem xs="6">
                                    <MudDatePicker Label="FECHA EN LA QUE SE REALIZÓ EL PAGO TOTAL DE LA INDEMNIZACIÓN (DD-MM-AAAA)" @bind-Date="FaltasDeServidoresPublicosG.Indeminizacion.IndeminizacionECobrada!.FechaPagoTotalS" Disabled="modoVista" helpertext="Especificar la fecha en que la persona servidora pública cubrió el pago total de la sanción económica." />
                                </MudItem>
                                </MudGrid>
                            </MudForm>
                        </Content>
                    </CardForm>
                   
                }
                @if ((_options ?? Enumerable.Empty<string>()).Contains("SANCION ECONOMICA"))
                {
                    <CardForm>
                        <Header>
                            C. SANCIÓN ECONÓMICA*
                        </Header>
                        <Content>
                            <MudForm @ref="_formSancionEconomica" @bind-IsValid="_isStep1Valid[10]">
                                <MudGrid>
                                    <MudItem xs="4">
                                        <MudNumericField @bind-value="FaltasDeServidoresPublicosG!.SancionEconomica!.Monto"
                                                      Disabled="IsEditMode == (int)TipoVistaComponentes.Ver"
                                                      label="MONTO"
                                                     HideSpinButtons="true"
                                                      required="!modoVista"
                                                      RequiredError="El campo Monto es obligatorio."
                                                      helpertext="Colocar el monto total de la sanción económica." />
                                    </MudItem>
                                    <MudItem xs="4">
                                        <MudSelect @bind-Value="FaltasDeServidoresPublicosG!.SancionEconomica!.IdMonedaFK"
                                                   Label="MONEDA (Ejemplo: MXN de acuerdo con el ISO 4217)"
                                                   Disabled="IsEditMode == (int)TipoVistaComponentes.Ver"
                                                   required="!modoVista"
                                                   RequiredError="El campo Moneda es obligatorio."
                                                   HelperText="Elegir el tipo de moneda:">
                                            @foreach (var moneda in TipoMonedas)
                                            {
                                                <MudSelectItem Value="@moneda.IdMoneda">@moneda.Descripcion</MudSelectItem>
                                            }
                                        </MudSelect>
                                    </MudItem>
                                    @*  <MudItem xs="4">
                            <MudSelect @bind-Value="FaltasDeServidoresPublicosG!.SancionEconomica!.PlazoPago"
                                       Disabled="IsEditMode == (int)TipoVistaComponentes.Ver"
                                       Label="PLAZO DE PAGO"
                                       HelperText="Señalar el plazo para pagar la sanción económica: año (s), mes (es) y día (s).">
                                @foreach (var plazo in PlazoPagos)
                                {
                                    <MudSelectItem Value="@plazo">@plazo.Valor</MudSelectItem>
                                }
                            </MudSelect>
                        </MudItem> *@
                                <MudItem xs="12">
                                    <MudText>
                                        <b>PLAZO DE PAGO</b>
                                    </MudText>
                                </MudItem>

                                    <MudItem xs="4">
                                        <MudTextField @bind-value="FaltasDeServidoresPublicosG!.SancionEconomica!.Anio"
                                                      Disabled="IsEditMode == (int)TipoVistaComponentes.Ver"
                                                      label="AÑO (S)" />
                                    </MudItem>

                                    <MudItem xs="4">
                                        <MudTextField @bind-value="FaltasDeServidoresPublicosG!.SancionEconomica!.Mes"
                                                      Disabled="IsEditMode == (int)TipoVistaComponentes.Ver"
                                                      label="MES (ES)" />
                                    </MudItem>


                                    <MudItem xs="4">
                                        <MudTextField @bind-value="FaltasDeServidoresPublicosG!.SancionEconomica!.Dia"
                                                      Disabled="IsEditMode == (int)TipoVistaComponentes.Ver"
                                                      label="DÍA (S)" />
                                    </MudItem>

                                </MudGrid>
                                <br />
                                <MudGrid>
                                <MudItem xs="12">
                                    <MudText>
                                        <b>SANCIÓN ECONÓMICA EFECTIVAMENTE COBRADA </b>
                                    </MudText>
                                </MudItem>
                                <MudItem xs="4">
                                    <MudNumericField @bind-value="FaltasDeServidoresPublicosG!.SancionEconomica.SancionEfectivamenteCobrada!.Monto"
                                                     Disabled="IsEditMode == (int)TipoVistaComponentes.Ver"
                                                     label="MONTO"
                                                     HideSpinButtons="true"
                                                     RequiredError="El campo Monto es obligatorio."
                                                     helpertext="Colocar el monto total de la sanción económica." />


                                </MudItem>
                                <MudItem xs="4">
                                    <MudSelect @bind-Value="FaltasDeServidoresPublicosG!.SancionEconomica.SancionEfectivamenteCobrada!.IdMonedaFK"
                                               Label="MONEDA (Ejemplo: MXN de acuerdo con el ISO 4217)"
                                               Disabled="IsEditMode == (int)TipoVistaComponentes.Ver"
                                               RequiredError="El campo Moneda es obligatorio."
                                               HelperText="Elegir el tipo de moneda:">
                                        @foreach (var moneda in TipoMonedas)
                                        {
                                            <MudSelectItem Value="@moneda.IdMoneda">@moneda.Descripcion</MudSelectItem>
                                        }
                                    </MudSelect>
                                </MudItem>

                                <MudItem xs="6">
                                    <MudDatePicker Label="FECHA DE COBRO DE LA SANCIÓN (DD-MM-AAAA)" @bind-Date="FaltasDeServidoresPublicosG.SancionEconomica.SancionEfectivamenteCobrada!.FechaCobro" Disabled="modoVista" helpertext="Especificar la fecha en que se realizó el cobro de la sanción económica." />
                                </MudItem>
                                <MudItem xs="6">
                                    <MudDatePicker Label="FECHA EN QUE SE REALIZÓ EL PAGO TOTAL DE LA SANCIÓN (DD-MM-AAAA)" @bind-Date="FaltasDeServidoresPublicosG.SancionEconomica.SancionEfectivamenteCobrada!.FechaPagoTotal" Disabled="modoVista" helpertext="Especificar la fecha en que la persona servidora pública cubrió el pago total de la sanción económica." />
                                </MudItem>
                                </MudGrid>
                           

                            </MudForm>
                        </Content>
                    </CardForm>
                   
                }
                @if ((_options ?? Enumerable.Empty<string>()).Contains("OTRO (Especifique)"))
                {
                    <CardForm>
                        <Header>
                            D. OTRO (Especifique)*
                        </Header>
                        <Content>
                            <MudForm @ref="_formOtro" @bind-IsValid="_isStep1Valid[11]">
                                <MudGrid Justify="Justify.FlexStart">
                                    <MudItem xs="6">
                                        <MudTextField @bind-value="FaltasDeServidoresPublicosG!.Otro!.DenominacionSancion"
                                                      label="DENOMINACIÓN DE LA SANCIÓN"
                                                      Disabled="IsEditMode == (int)TipoVistaComponentes.Ver"
                                                      required="!modoVista"
                                                      RequiredError="El campo Denominacion Sancion es obligatorio."
                                                      helpertext="Indicar el nombre de la sanción, sin abreviaturas, sin acentos, ni signos especiales." />
                                    </MudItem>
                                </MudGrid>
                            </MudForm>
                        </Content>
                    </CardForm>                    
                }




            
        </MudStep>
        <MudStep Title="9. OBSERVACIONES" CompletedStepColor="Color.Success">
            <MudGrid Justify="Justify.FlexStart">
                <MudItem xs="12">
                    <MudTextField @bind-value="FaltasDeServidoresPublicosG!.Otro!.Observaciones"
                                  Disabled="IsEditMode == (int)TipoVistaComponentes.Ver"
                                  label="Observaciones" Lines="4"
                                  helpertext="En este espacio se podrán realizar las aclaraciones u observaciones que se consideren pertinentes respecto de alguno o algunos de los apartados del Formato." />
                </MudItem>
            </MudGrid>
        </MudStep>
    </ChildContent>
    
    <ActionContent Context="stepper">
        <MudButton EndIcon="@Icons.Material.Filled.NavigateBefore"
                   Color="Color.Primary"
                   OnClick="@(() => stepper.PreviousStepAsync())">
            Regresar
        </MudButton>

        <MudSpacer />

        @if (stepper.ActiveIndex < stepper.Steps.Count - 1)
        {
            @if (loading)
            {
                <MudProgressCircular Color="Color.Primary" Indeterminate="true" />
            }
            else
            {
                <MudButton StartIcon="@Icons.Material.Filled.NavigateNext"
                           Color="Color.Primary"
                           OnClick="@(() => stepper.NextStepAsync())">
                    Pasar al Siguiente
                </MudButton>
            }
        }
        else
        {
            @if (loading)
            {
                <MudProgressCircular Color="Color.Primary" Indeterminate="true" />
            }
            else
            {
                <MudButton StartIcon="@Icons.Material.Filled.Check"
                           Color="Color.Primary"
                           OnClick="FinalizarRegistro">
                    Finalizar
                </MudButton>
            }
        }
    </ActionContent>
</MudStepper>


